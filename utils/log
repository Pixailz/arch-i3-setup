: ${LOG_FILE?}

[ ! -d "${DIR_LOG}" ] && mkdir -p "${DIR_LOG}"
[ ! -f "${LOG_FILE}" ] && : > "${LOG_FILE}"

function log::write()
{
	local msg="${1?}"
	local mode="${2}"

	case "${mode}" in
		"0") printf "%b\n" "${msg}" 2>&1 | tee -a "${LOG_FILE}" ;;
		"1") printf "%b\n" "${msg}" ;;
		"2") printf "%b\n" "${msg}" 2>&1 >> "${LOG_FILE}" ;;
	esac
}

function log()
{ log::write "${1}" "${2:=0}"; }

function log::title()
{ log::write "==============================
${1}
==============================" "${2:=0}"; }

function log::new_launch()
{
	local date

	printf -v date "%(%H:%m:%y %x)T"
	log::title "NEW LAUNCH ${date}" "2"
}

log::new_launch
